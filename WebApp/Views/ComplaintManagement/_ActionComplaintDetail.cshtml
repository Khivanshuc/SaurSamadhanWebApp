@model WebApp.Models.VwRegisteredComplaintModel

<style>
    .container1 {
        background-color: white;
        padding: 15px;
        border-radius: 10px;
    }

    .disabled-button {
        background-color: grey !important;
        color: black !important;
        cursor: not-allowed !important;
        border: none;
    }
</style>

<div class="row justify-content-center mt-md-3">
    <h2>Action Complaint</h2>
    <button id="" class="btn btn-back-to-list" onclick="BacktoList()" style="width:140px!important"><img src="~/img/Back_icon.png" alt="Alternate Text" class="back-icon" />Back to List</button>
    <button id="backToDashButton" class="btn btn-back-to-dash" onclick="BackToDashboard()">
        <img src="~/img/Home_icon.png" alt="Alternate Text" class="home-icon">
    </button>
</div>
<input type="hidden" class="form-control" name="txtComplaintId" id="txtComplaintId" value="@Model.Id">
<input type="hidden" class="form-control" name="txtComplaintNumber" id="txtComplaintNumber" value="@Model.ComplaintNumber">


<div class="container1 mt-2">
    <div id="actionComplaint">
        <div class="row">

            <div class="col-lg-12">
                <div class="row">

                    <div class="col-lg-4">
                        <label for="inputAddress" class="fw-bold">शिकायत दर्ज करने का दिनांक</label>
                        <input type="text" class="form-control" name="txtdate" id="txtdate" value="@Model.ComplaintDate" placeholder="" disabled style="cursor:not-allowed;">
                        <label class="error" id="txtDateError"></label>
                    </div>

                    <div class="col-lg-4">
                        <label for="inputZip" class="fw-bold">जिला</label>
                        <select name="txtjila" id="txtjila" class="form-control" onchange="getBlockByDistrict()" disabled style="cursor:not-allowed;">
                            <option value="@Model.DistrictId">@Model.DistrictName</option>
                        </select>
                    </div>

                    <div class="form-group col-lg-4">
                        <label for="inputZip" class="fw-bold">विकासखण्ड</label>
                        <select id="txtvikaskhand" name="txtvikaskhand" class="form-control" disabled style="cursor:not-allowed;">
                            <option value="@Model.BlockId">@Model.BlockName</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="col-lg-12">
                <div class="row">

                    <div class="form-group col-lg-4">
                        <label for="inputZip" class="fw-bold">ग्राम</label>
                        <select id="txtVillage" name="txtVillage" class="form-control" disabled style="cursor:not-allowed;">
                            <option value="@Model.VillageId">@Model.VillageName</option>
                        </select>
                    </div>
                    <div class="form-group col-lg-4">
                        <label for="inputZip" class="fw-bold">साइट</label>
                        <select id="txtSite" name="txtSite" class="form-control" onchange="" disabled style="cursor:not-allowed;">
                            <option value="@Model.SiteId">@Model.SiteName</option>
                        </select>
                    </div>
                    <div class="form-group col-lg-4">
                        <label for="inputZip" class="fw-bold">शिकायत का विषय</label>
                        <input type="text" class="form-control" name="txtComplaintRemark" id="txtComplaintRemark" placeholder="" value="@Model.Remarks" disabled style="cursor:not-allowed;">
                        <label class="error" id="complaintRemarkError"></label>
                    </div>
                </div>
            </div>

            <div class="col-lg-12">
                <div class="row">
                    <div class="form-group col-lg-4">
                        <label for="inputZip" class="fw-bold">शिकायत की स्थिति</label>
                        <select id="txtComplaintStatus" name="txtComplaintStatus" class="form-control" disabled style="cursor:not-allowed;">
                            @if (@Model.ComplaintStatus == "Pending")
                            {
                                <option value="0">Pending</option>
                            }
                            else
                            {
                                <option value="1">Resolved</option>
                            }

                        </select>
                        <label class="error" id="complaintStatusError"></label>
                    </div>
                    <div class="form-group col-lg-4">
                        <label for="txtMarked" class="fw-bold">किसे मार्क किया गया*</label>
                        <input type="text" class="form-control" name="txtMarked" id="txtMarked" placeholder="">
                        <label class="error" id="txtMarkedError"></label>
                    </div>
                    <div class="form-group col-lg-4">
                        <label for="txtSIname" class="fw-bold">SI Name</label>
                        @if (@Model.SIId != 0)
                        {
                            <select id="SIname" name="txtSIname" class="form-control" disabled>
                                <option value="@Model.SIId">@Model.SIName</option>
                            </select>
                        }
                        else
                        {
                            <select id="txtSIname" name="txtSIname" class="form-control">
                                <option value="0">Please Select SI</option>
                            </select>
                            <label class="error" id="SInameError"></label>
                        }
                    </div>
                    <div class="form-group col-lg-4">
                        <label for="inputZip" class="fw-bold">क्रेडा द्वारा SI को पत्र प्रदान करने की नियुक्त तिथि*</label>
                        @if (@Model.SIId != 0)
                        {
                            <input type="text" class="form-control" name="txtdate" id="" placeholder="" value="@Model.AssignedDate" disabled>
                        }
                        else
                        {
                            <input type="date" class="form-control" name="txtdate" id="txtAssignedDate" placeholder="">
                        }
                        <label class="error" id="txtAssignedDateError"></label>
                    </div>
                </div>
            </div>

            <div class="col-lg-12">
                <div class="row">
                    <div class="form-group col-lg-4">
                        <label for="inputZip" class="fw-bold">क्रेडा द्वारा SI को पत्र प्रदान करने की नियुक्त तिथि*</label>
                        @if (@Model.SIId != 0)
                        {
                            <input type="text" class="form-control" name="txtdate" id="txtAssignedDate" placeholder="" value="@Model.ExpectedDate" disabled>
                        }
                        else
                        {
                            <select id="txtLimitedDay" name="txtLimitedDay" class="form-control">
                                <option value="">दिन का चयन करें*</option>
                                <option value="7">7 दिन</option>
                                <option value="15">15 दिन</option>
                            </select>
                        }
                        <label class="error" id="LimitedDayError"></label>
                    </div>
                    <div class="form-group col-lg-4">
                        <label for="inputZip" class="fw-bold">रिमार्क*</label>
                        <textarea type="text" class="form-control" name="txtRemark" id="txtRemark" placeholder=""></textarea>
                        <label class="error" id="RemarkError"></label>
                    </div>
                </div>
            </div>
        </div>

        <div class="row d-flex">
            <div class="col-sm-10 back-icon "></div>
            <div class="col-sm-1">
                @if (@Model.SIId != 0)
                {
                    <button id="" name="" class="btn btn-info disabled-button" style="margin-top:25px;" disabled>Assign</button>
                }
                else
                {
                    <button id="btnAssign" name="btnAssign" class="btn btn-info" style="margin-top:25px" onclick="assignComplaintToSIBtnClicked()">Assign</button>
                }
            </div>
            <div class="col-sm-1">
                @if (@Model.SIId != 0)
                {
                    <button class="btn btn-warning" style="margin-top:25px" onclick="remindComplaintBtnClicked()">Remind</button>
                }
                else
                {
                    <button class="btn btn-warning" style="margin-top:25px" disabled>Remind</button>
                }
            </div>
            <div class="col-sm-1">
                @if (@Model.SIId != 0)
                {
                    <button class="btn btn-danger" style="margin-top:25px" onclick="escalateComplaintBtnClicked()">Escalate</button>
                }
                else
                {
                    <button class="btn btn-danger" style="margin-top:25px" disabled>Escalate</button>
                }

            </div>
        </div>
    </div>
</div>
@section PageScripts {
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="~/js/complaintmanagement.js"></script>

}
